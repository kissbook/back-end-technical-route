<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>å»ä¹¦ - åç«¯æŠ€æœ¯åˆ†äº«åšå®¢</title><link>https://blog.jtyoui.com/</link><description>Recent content on å»ä¹¦ - åç«¯æŠ€æœ¯åˆ†äº«åšå®¢</description><generator>Hugo -- gohugo.io</generator><copyright>åç«¯æŠ€æœ¯</copyright><lastBuildDate>Thu, 29 Dec 2022 10:32:00 +0800</lastBuildDate><atom:link href="https://blog.jtyoui.com/index.xml" rel="self" type="application/rss+xml"/><item><title>æ¿€æ´»å‡½æ•°</title><link>https://blog.jtyoui.com/post/pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/</link><pubDate>Thu, 29 Dec 2022 10:32:00 +0800</pubDate><guid>https://blog.jtyoui.com/post/pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0/</guid><description>&lt;h1 id="1æ¿€æ´»å‡½æ•°å«ä¹‰">1ã€æ¿€æ´»å‡½æ•°å«ä¹‰&lt;/h1>
&lt;h2 id="11ä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°">1.1ã€ä»€ä¹ˆæ˜¯æ¿€æ´»å‡½æ•°ï¼Ÿ&lt;/h2>
&lt;p>æ¿€æ´»å‡½æ•°æ˜¯äººä¸ºå¢åŠ çš„ä¸€ç§åŠŸèƒ½ï¼Œè¿™ç§åŠŸèƒ½ä¹Ÿè¢«ç§°ä¸ºâ€œä¼ é€’å‡½æ•°â€ï¼Œç›®çš„æ˜¯ä¸ºäº†å¢åŠ å‡½æ•°çš„â€œéçº¿æ€§èƒ½åŠ›â€ã€‚&lt;/p>
&lt;h2 id="12ä¸ºä»€ä¹ˆè¦ç”¨æ¿€æ´»å‡½æ•°">1.2ã€ä¸ºä»€ä¹ˆè¦ç”¨æ¿€æ´»å‡½æ•°ï¼Ÿ&lt;/h2>
&lt;p>å¦‚æœä¸ç”¨æ¿€æ´»å‡½æ•°ï¼Œé‚£ä¹ˆæ— è®ºç¥ç»ç½‘ç»œæ˜¯å¤šå°‘å±‚ï¼Œè¾“å‡ºéƒ½æ˜¯ä¸€ä¸ªâ€œçº¿æ€§å˜åŒ–â€ã€‚è¿™ç§æƒ…å†µå°±æ˜¯åŸå§‹çš„â€œæ„ŸçŸ¥æœºâ€ã€‚
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.svg" alt="ç¥ç»ç½‘ç»œ">
å¦‚æœä½¿ç”¨äº†æ¿€æ´»å‡½æ•°ï¼Œç¥ç»å…ƒå°±ä¼šé€¼è¿‘ä»»ä½•çš„â€œéçº¿æ€§å‡½æ•°â€ã€‚è¿™æ ·æ¨¡å‹æœ‰æ›´å¤šçš„æ‹Ÿåˆèƒ½åŠ›ã€‚&lt;/p>
&lt;p>ä¸‹é¢çš„å›¾è¡¨ç¤ºçº¿æ€§åˆ†å‰²çš„å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BA%BF%E6%80%A7%E5%88%86%E5%89%B2.png" alt="çº¿æ€§åˆ†å‰²">&lt;/p>
&lt;p>å®é™…ä¸Šæˆ‘ä»¬å…¶å®æƒ³è¦çš„æ˜¯è¿™æ ·çš„åˆ†å‰²çº¿
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E9%9D%9E%E7%BA%BF%E6%80%A7%E5%88%86%E5%89%B2.png" alt="img.png">&lt;/p>
&lt;p>ã€æ³¨æ„ã€‘å¦‚æœæˆ‘ä»¬ä¸ç”¨æ¿€æ´»å‡½æ•°ï¼Œå°±å•çº¯çš„æƒ³å¢åŠ éšè—å±‚ï¼Œèƒ½å¦è¾¾åˆ°ç±»ä¼¼æ¿€æ´»å‡½æ•°çš„æ•ˆæœï¼Ÿ
ç­”æ¡ˆæ˜¯ï¼šå¦&lt;/p>
&lt;p>å› ä¸ºå¢åŠ å±‚æ•°ï¼Œå°±ä¼šå•çº¯çš„å¢åŠ Wx+bçš„ä¸ªæ•°ï¼Œçº¿æ€§å‡½æ•°æœ‰ä¸€ä¸ªç‰¹æ€§ï¼šä¸¤ä¸ªçº¿æ€§ç›¸åŠ è¿˜æ˜¯ç­‰äºçº¿æ€§å‡½æ•°ã€‚
æ‰€ä»¥æ— è®ºå¤šå°‘ä¸ªWx+béƒ½å¯ä»¥åˆå¹¶åŒç±»å‹ã€‚å˜æˆä¸€ä¸ªæ›´å¤§çš„W'x+b'è¿™æ ·çš„å½¢å¼&lt;/p>
&lt;h2 id="13ä»€ä¹ˆæ˜¯çº¿æ€§å‡½æ•°">1.3ã€ä»€ä¹ˆæ˜¯çº¿æ€§å‡½æ•°&lt;/h2>
&lt;p>çº¿æ€§å‡½æ•°çš„è§£é‡Šï¼šåªè¦æ»¡è¶³çº¿æ€§å…³ç³»çš„éƒ½å«çº¿æ€§å‡½æ•°
æ»¡è¶³ä¸¤ä¸ªå…³ç³»ï¼šå‡å¦‚æœ‰è¿™æ ·çš„å…³ç³»ï¼š
$$
f(x) = y
$$&lt;/p>
&lt;p>$$
1ã€f(x_i)=y_i \ ä¸” \ f(x_1+x_2)=y_1+y_2
$$&lt;/p>
&lt;p>$$
2ã€f(K*x)=K*y \ ä¸” \ Kæ˜¯ä¸€ä¸ªå¸¸æ•°
$$&lt;/p>
&lt;p>æ»¡è¶³è¿™æ ·çš„å…³ç³»çš„å‡½æ•°ï¼Œå°±å«çº¿æ€§å‡½æ•°ã€‚&lt;/p>
&lt;h1 id="2æ¿€æ´»å‡½æ•°çš„ç§ç±»">2ã€æ¿€æ´»å‡½æ•°çš„ç§ç±»&lt;/h1>
&lt;h2 id="21å•å˜é‡è¾“å…¥æ¿€æ´»å‡½æ•°">2.1ã€å•å˜é‡è¾“å…¥æ¿€æ´»å‡½æ•°&lt;/h2>
&lt;h3 id="211æ’ç­‰å‡½æ•°">2.1.1ã€æ’ç­‰å‡½æ•°&lt;/h3>
&lt;p>å®šä¹‰ï¼šè®¾Mä¸ºä¸€é›†åˆï¼ŒäºMä¸Šçš„æ’ç­‰å‡½æ•°fè¢«å®šä¹‰äºä¸€å…·æœ‰å®šä¹‰åŸŸå’Œé™ªåŸŸMçš„å‡½æ•°ï¼Œå…¶å¯¹ä»»ä¸€Må†…çš„å…ƒç´ xï¼Œä¼šæœ‰f(x)=xçš„å…³ç³»ã€‚&lt;/p>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%81%92%E7%AD%89%E5%87%BD%E6%95%B0.png" alt="æ’ç­‰å‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
f(x) =x
$$
å¯¼å‡½æ•°ï¼š
$$
f'(x)=1
$$&lt;/p>
&lt;h3 id="212å•ä½é˜¶è·ƒå‡½æ•°">2.1.2ã€å•ä½é˜¶è·ƒå‡½æ•°&lt;/h3>
&lt;p>å®šä¹‰ï¼šåˆç§°èµ«ç»´èµ›å¾·é˜¶è·ƒå‡½æ•°ï¼Œé€šå¸¸ç”¨ H æˆ– Î¸ è¡¨è®°ï¼Œæœ‰æ—¶ä¹Ÿä¼šç”¨ uã€1 æˆ– ğŸ™ è¡¨è®°ï¼Œæ˜¯ä¸€ä¸ªç”±å¥¥åˆ©å¼—Â·äº¥ç»´èµ›æå‡ºçš„é˜¶è·ƒå‡½æ•°ï¼Œå‚æ•°ä¸ºè´Ÿæ—¶å€¼ä¸º0ï¼Œå‚æ•°ä¸ºæ­£æ—¶å€¼ä¸º1ã€‚&lt;/p>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%8D%95%E4%BD%8D%E9%98%B6%E8%B7%83%E5%87%BD%E6%95%B0.png" alt="å•ä½é˜¶è·ƒå‡½æ•°">
åŸå‡½æ•°ï¼š&lt;/p>
&lt;p>$$
f(x)=\begin{Bmatrix}
0 \ x&amp;lt;0 \\
1 \ x\geqslant 0 \\
\end{Bmatrix}
$$&lt;/p>
&lt;p>å¯¼å‡½æ•°ï¼š&lt;/p>
&lt;p>$$
f'(x)=\begin{Bmatrix}
0 \ x\neq 0 \\
æ—  \ x=0 \\
\end{Bmatrix}
$$&lt;/p>
&lt;h3 id="213é€»è¾‘å‡½æ•°">2.1.3ã€é€»è¾‘å‡½æ•°&lt;/h3>
&lt;p>å®šä¹‰ï¼š
ä¸€ç§å¸¸è§çš„Så‹å‡½æ•°ï¼Œå…¶æ›²çº¿é€»è¾‘æ–¯è°›æ›²çº¿æ˜¯ä¸€ç§Så‹æ›²çº¿&lt;/p>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E9%80%BB%E8%BE%91%E5%87%BD%E6%95%B0.png" alt="é€»è¾‘å‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
f(x)=\sigma(x) + \frac{1}{1+e^{-x}}
$$
å¯¼æ•°
$$
f'(x) = f(x)(1-f(x))
$$&lt;/p>
&lt;h3 id="214åŒæ›²æ­£åˆ‡å‡½æ•°">2.1.4ã€åŒæ›²æ­£åˆ‡å‡½æ•°&lt;/h3>
&lt;p>å®šä¹‰ï¼š
åŒæ›²æ­£å¼¦ä¸€èˆ¬è®¡ä¸º sinh,å…¶åœ¨å¤å˜åˆ†æä¸­å®šä¹‰ä¸º:
$$
{\displaystyle \sinh :z\mapsto {\frac {\mathrm {e} ^{z}-\mathrm {e} ^{-z}}{2}}}
$$&lt;/p>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%8F%8C%E6%9B%B2%E6%AD%A3%E5%88%87%E5%87%BD%E6%95%B0.png" alt="åŒæ›²æ­£åˆ‡å‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f(x)=\tanh(x)={\frac {(e^{x}-e^{-x})}{(e^{x}+e^{-x})}}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle f'(x)=1-f(x)^{2}}
$$&lt;/p>
&lt;h3 id="215åæ­£åˆ‡å‡½æ•°">2.1.5ã€åæ­£åˆ‡å‡½æ•°&lt;/h3>
&lt;p>å®šä¹‰ï¼š
åæ­£åˆ‡æ˜¯ä¸€ç§åä¸‰è§’å‡½æ•°ï¼Œæ˜¯åˆ©ç”¨å·²çŸ¥ç›´è§’ä¸‰è§’å½¢çš„å¯¹è¾¹å’Œé‚»è¾¹è¿™ä¸¤æ¡ç›´è§’è¾¹çš„æ¯”å€¼æ±‚å‡ºå…¶å¤¹è§’å¤§å°çš„å‡½æ•°ï¼Œæ˜¯é«˜ç­‰æ•°å­¦ä¸­çš„ä¸€ç§åŸºæœ¬ç‰¹æ®Šå‡½æ•°ã€‚
åœ¨ä¸‰è§’å­¦ä¸­ï¼Œåæ­£åˆ‡è¢«å®šä¹‰ä¸ºä¸€ä¸ªè§’åº¦ï¼Œä¹Ÿå°±æ˜¯æ­£åˆ‡å€¼çš„åå‡½æ•°ï¼Œç”±äºæ­£åˆ‡å‡½æ•°åœ¨å®æ•°ä¸Šä¸å…·æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œæ‰€ä»¥ä¸å­˜åœ¨åå‡½æ•°ï¼Œ
ä½†æˆ‘ä»¬å¯ä»¥é™åˆ¶å…¶å®šä¹‰åŸŸï¼Œå› æ­¤ï¼Œåæ­£åˆ‡æ˜¯å•å°„å’Œæ»¡å°„ä¹Ÿæ˜¯å¯é€†çš„ï¼Œä½†ä¸åŒäºåæ­£å¼¦å’Œåä½™å¼¦ï¼Œç”±äºé™åˆ¶æ­£åˆ‡å‡½æ•°çš„å®šä¹‰åŸŸåœ¨
$$
{\displaystyle [-{\frac {\pi }{2}},{\frac {\pi }{2}}]}[-{\frac {\pi }{2}},{\frac {\pi }{2}}]
$$
æ—¶ï¼Œå…¶å€¼åŸŸæ˜¯å…¨ä½“å®æ•°ï¼Œå› æ­¤å¯å¾—åˆ°çš„åå‡½æ•°å®šä¹‰åŸŸä¹Ÿæ˜¯å…¨ä½“å®æ•°ï¼Œè€Œä¸å¿…å†è¿›ä¸€æ­¥å»é™åˆ¶å®šä¹‰åŸŸã€‚&lt;/p>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%8F%8D%E6%AD%A3%E5%88%87%E5%87%BD%E6%95%B0.png" alt="åæ­£åˆ‡å‡½æ•°">
åŸå‡½æ•°ï¼š
$$
{\displaystyle f(x)=\tan ^{-1}(x)}
$$
å¯¼æ•°ï¼š
$$
{\displaystyle f'(x)={\frac {1}{x^{2}+1}}}
$$&lt;/p>
&lt;h3 id="216softsignå‡½æ•°">2.1.6ã€Softsignå‡½æ•°&lt;/h3>
&lt;p>å›¾åƒï¼š&lt;/p>
&lt;p>&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/Softsign.png" alt="Softsign">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f(x)={\frac {x}{1+|x|}}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle f'(x)={\frac {1}{(1+|x|)^{2}}}}
$$&lt;/p>
&lt;h3 id="217åå¹³æ–¹æ ¹å‡½æ•°-isru">2.1.7ã€åå¹³æ–¹æ ¹å‡½æ•° (ISRU)&lt;/h3>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%8F%8D%E5%B9%B3%E6%96%B9%E6%A0%B9%E5%87%BD%E6%95%B0.png" alt="åå¹³æ–¹æ ¹å‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f(x)={\frac {x}{\sqrt {1+\alpha x^{2}}}}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle f'(x)=\left({\frac {1}{\sqrt {1+\alpha x^{2}}}}\right)^{3}}
$$&lt;/p>
&lt;h3 id="218çº¿æ€§æ•´æµå‡½æ•°-relu">2.1.8ã€çº¿æ€§æ•´æµå‡½æ•° (ReLU)&lt;/h3>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E7%BA%BF%E6%80%A7%E6%95%B4%E6%B5%81%E5%87%BD%E6%95%B0.png" alt="çº¿æ€§æ•´æµå‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f(x)={\begin{cases}0&amp;amp;{\text{for }}x&amp;lt;0\\x&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle f'(x)={\begin{cases}0&amp;amp;{\text{for }}x&amp;lt;0\\1&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;h3 id="219å¸¦æ³„éœ²çº¿æ€§æ•´æµå‡½æ•°-leaky-relu">2.1.9ã€å¸¦æ³„éœ²çº¿æ€§æ•´æµå‡½æ•° (Leaky ReLU)&lt;/h3>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%B8%A6%E6%B3%84%E9%9C%B2%E7%BA%BF%E6%80%A7%E6%95%B4%E6%B5%81%E5%87%BD%E6%95%B0.png" alt="å¸¦æ³„éœ²çº¿æ€§æ•´æµå‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f(x)={\begin{cases}0.01x&amp;amp;{\text{for }}x&amp;lt;0\\x&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle f'(x)={\begin{cases}0.01&amp;amp;{\text{for }}x&amp;lt;0\\1&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;h3 id="2110å‚æ•°åŒ–çº¿æ€§æ•´æµå‡½æ•°-prelu">2.1.10ã€å‚æ•°åŒ–çº¿æ€§æ•´æµå‡½æ•° (PReLU)&lt;/h3>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%8F%82%E6%95%B0%E5%8C%96%E7%BA%BF%E6%80%A7%E6%95%B4%E6%B5%81%E5%87%BD%E6%95%B0.png" alt="å‚æ•°åŒ–çº¿æ€§æ•´æµå‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f(\alpha ,x)={\begin{cases}\alpha x&amp;amp;{\text{for }}x&amp;lt;0\\x&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle f'(\alpha ,x)={\begin{cases}\alpha &amp;amp;{\text{for }}x&amp;lt;0\\1&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;h3 id="2111æŒ‡æ•°çº¿æ€§å‡½æ•°-elu">2.1.11ã€æŒ‡æ•°çº¿æ€§å‡½æ•° (ELU)&lt;/h3>
&lt;p>å›¾åƒï¼š
&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E6%8C%87%E6%95%B0%E7%BA%BF%E6%80%A7%E5%87%BD%E6%95%B0.png" alt="æŒ‡æ•°çº¿æ€§å‡½æ•°">&lt;/p>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f(\alpha ,x)={\begin{cases}\alpha (e^{x}-1)&amp;amp;{\text{for }}x&amp;lt;0\\x&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle f'(\alpha ,x)={\begin{cases}f(\alpha ,x)+\alpha &amp;amp;{\text{for }}x&amp;lt;0\\1&amp;amp;{\text{for }}x\geq 0\end{cases}}}
$$&lt;/p>
&lt;h2 id="22å¤šå˜é‡è¾“å…¥æ¿€æ´»å‡½æ•°">2.2ã€å¤šå˜é‡è¾“å…¥æ¿€æ´»å‡½æ•°&lt;/h2>
&lt;h3 id="221softmaxå‡½æ•°">2.2.1ã€Softmaxå‡½æ•°&lt;/h3>
&lt;p>åŸå‡½æ•°ï¼š
$$
f_{i}({\vec{x}})=\frac{e^{x_{i}}}{\sum_{j=1}^{J}e^{x_{j}}} \ ä¸” \ i = 1, â€¦, J
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle {\frac{\partial f_{i}({\vec{x}})}{\partial x_{j}}}=f_{i}({\vec{x}})(\delta_{ij}-f_{j}({\vec{x}}))}
$$&lt;/p>
&lt;h3 id="222maxoutå‡½æ•°">2.2.2ã€Maxoutå‡½æ•°&lt;/h3>
&lt;p>åŸå‡½æ•°ï¼š
$$
{\displaystyle f({\vec{x}})=\max_{i}x_{i}}
$$&lt;/p>
&lt;p>å¯¼æ•°ï¼š
$$
{\displaystyle {\frac{\partial f}{\partial x_{j}}}={\begin{cases}1&amp;amp;{\text{for
}}j={\underset{i}{\operatorname{argmax}}},x_{i}\\0&amp;amp;{\text{for }}j\neq{\underset{i}{\operatorname{argmax}}},x_
{i}\end{cases}}}
$$&lt;/p>
&lt;h1 id="3é€‰æ‹©æ¿€æ´»å‡½æ•°">3ã€é€‰æ‹©æ¿€æ´»å‡½æ•°&lt;/h1>
&lt;h2 id="31sigmoid">3.1ã€sigmoid&lt;/h2>
&lt;p>Sigmoidå‡½æ•°æ›¾è¢«å¹¿æ³›åº”ç”¨ï¼Œä½†ç”±äºå…¶è‡ªèº«çš„ä¸€äº›ç¼ºé™·ï¼Œç°åœ¨å·²ç»å¾ˆå°‘ç”¨äº†ã€‚ç°åœ¨å·²ç»ä¸æ¨èä½¿ç”¨äº†&lt;/p>
&lt;h2 id="32tanh214åŒæ›²æ­£åˆ‡å‡½æ•°">3.2ã€&lt;a href="#214%E5%8F%8C%E6%9B%B2%E6%AD%A3%E5%88%87%E5%87%BD%E6%95%B0">Tanh&lt;/a>&lt;/h2>
&lt;p>&lt;img src="https://blog.jtyoui.com/img/Pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/tanh%E4%B8%8Esigmoid%E6%AF%94%E8%BE%83.png" alt="tanhä¸sigmoidæ¯”è¾ƒ">
tanhå‡½æ•°ä¸Sigmoidå‡½æ•°éå¸¸ç›¸ä¼¼ã€‚å®ƒå®é™…ä¸Šåªæ˜¯Sigmoidå‡½æ•°çš„ä¸€ä¸ªæ”¾å¤§ç‰ˆæœ¬ã€‚
å®ƒåŸºæœ¬ä¸Šè§£å†³äº†æ‰€æœ‰å€¼ç¬¦å·ç›¸åŒçš„é—®é¢˜ï¼Œè€Œå…¶ä»–å±æ€§éƒ½ä¸sigmoidå‡½æ•°ç›¸åŒã€‚
å‡½æ•°å…·æœ‰è¿ç»­æ€§å’Œå¯å¾®æ€§ã€‚ä½ å¯ä»¥çœ‹åˆ°å‡½æ•°æ˜¯éçº¿æ€§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†è¯¯å·®è¿›è¡Œåå‘ä¼ æ’­ã€‚
æ‰€ä»¥å¯ä»¥ä½¿ç”¨tanhæ¥æ›¿ä»£Sigmoidå‡½æ•°ã€‚
ä¸Sigmoidå‡½æ•°ç›¸æ¯”ï¼Œtanhå‡½æ•°çš„æ¢¯åº¦æ›´é™¡ã€‚ ä½¿ç”¨sigmoidå‡½æ•°è¿˜æ˜¯tanhå‡½æ•°å–å†³äºé—®é¢˜é™ˆè¿°ä¸­å¯¹æ¢¯åº¦çš„è¦æ±‚ã€‚
ä½†æ˜¯tanhå‡½æ•°å‡ºç°äº†Sigmoidå‡½æ•°ç±»ä¼¼çš„é—®é¢˜ï¼Œæ¢¯åº¦æ¸è¶‹å¹³å¦ï¼Œå¹¶ä¸”å€¼éå¸¸ä½ã€‚&lt;/p>
&lt;h2 id="33relu218çº¿æ€§æ•´æµå‡½æ•°-relu">3.3ã€&lt;a href="#218%E7%BA%BF%E6%80%A7%E6%95%B4%E6%B5%81%E5%87%BD%E6%95%B0-relu">ReLU&lt;/a>&lt;/h2>
&lt;p>ReLUæ˜¯è¿‘å‡ å¹´éå¸¸å—æ¬¢è¿çš„æ¿€æ´»å‡½æ•°
ReLUæ˜¯å¦‚ä»Šè®¾è®¡ç¥ç»ç½‘ç»œæ—¶ä½¿ç”¨æœ€å¹¿æ³›çš„æ¿€æ´»å‡½æ•°ã€‚é¦–å…ˆï¼ŒReLUå‡½æ•°æ˜¯éçº¿æ€§çš„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åå‘ä¼ æ’­è¯¯å·®ï¼Œå¹¶æ¿€æ´»å¤šä¸ªç¥ç»å…ƒã€‚
ReLUå‡½æ•°ä¼˜äºå…¶ä»–æ¿€æ´»å‡½æ•°çš„ä¸€å¤§ä¼˜ç‚¹æ˜¯å®ƒä¸ä¼šåŒæ—¶æ¿€æ´»æ‰€æœ‰çš„ç¥ç»å…ƒã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€?å¦‚æœè¾“å…¥å€¼æ˜¯è´Ÿçš„ï¼ŒReLUå‡½æ•°ä¼šè½¬æ¢ä¸º0ï¼Œ
è€Œç¥ç»å…ƒä¸è¢«æ¿€æ´»ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œåªæœ‰å°‘é‡çš„ç¥ç»å…ƒè¢«æ¿€æ´»ï¼Œç¥ç»ç½‘ç»œçš„è¿™ç§ç¨€ç–æ€§ä½¿å…¶å˜å¾—é«˜æ•ˆä¸”æ˜“äºè®¡ç®—ã€‚
ReLUå‡½æ•°ä¹Ÿå­˜åœ¨ç€æ¢¯åº¦ä¸ºé›¶çš„é—®é¢˜ã€‚çœ‹ä¸Šå›¾ï¼Œxï¼œ0æ—¶ï¼Œæ¢¯åº¦æ˜¯é›¶ï¼Œè¿™æ„å‘³ç€åœ¨åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œæƒé‡æ²¡æœ‰å¾—åˆ°æ›´æ–°ã€‚è¿™å°±ä¼šäº§ç”Ÿæ­»ç¥ç»å…ƒï¼Œè€Œè¿™äº›ç¥ç»å…ƒæ°¸è¿œä¸ä¼šè¢«æ¿€æ´»ã€‚&lt;/p>
&lt;h3 id="331leaky-relu219å¸¦æ³„éœ²çº¿æ€§æ•´æµå‡½æ•°-leaky-relu">3.3.1ã€&lt;a href="#219%E5%B8%A6%E6%B3%84%E9%9C%B2%E7%BA%BF%E6%80%A7%E6%95%B4%E6%B5%81%E5%87%BD%E6%95%B0-leaky-relu">Leaky ReLU&lt;/a>&lt;/h3>
&lt;p>Leaky ReLUå‡½æ•°åªæ˜¯ä¸€ä¸ªReLUå‡½æ•°çš„æ”¹è‰¯ç‰ˆæœ¬ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨ReLUå‡½æ•°ä¸­ï¼Œx &amp;lt; 0æ—¶æ¢¯åº¦ä¸º0ï¼Œè¿™ä½¿å¾—è¯¥åŒºåŸŸçš„ç¥ç»å…ƒæ­»äº¡ã€‚
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ Leaky ReLUå‡ºç°äº†ã€‚è¿™æ˜¯å®ƒçš„å®šä¹‰ï¼š
æ›¿æ¢æ°´å¹³çº¿çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å»é™¤é›¶æ¢¯åº¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¢¯åº¦æ˜¯éé›¶çš„ï¼Œæ‰€ä»¥è¯¥åŒºåŸŸçš„ç¥ç»å…ƒä¸ä¼šæˆä¸ºæ­»ç¥ç»å…ƒã€‚
ä¸Leaky ReLUå‡½æ•°ç±»ä¼¼çš„ï¼Œè¿˜æœ‰PReLUå‡½æ•°ï¼Œå®ƒçš„å®šä¹‰ä¸Leaky ReLUç›¸ä¼¼ã€‚
ç„¶è€Œï¼Œ åœ¨&lt;a href="#2110%E5%8F%82%E6%95%B0%E5%8C%96%E7%BA%BF%E6%80%A7%E6%95%B4%E6%B5%81%E5%87%BD%E6%95%B0-prelu">PReLU&lt;/a>å‡½æ•°ä¸­ï¼Œaä¹Ÿæ˜¯å¯è®­ç»ƒçš„å‡½æ•°ã€‚ç¥ç»ç½‘ç»œè¿˜ä¼šå­¦ä¹ açš„ä»·å€¼ï¼Œä»¥è·å¾—æ›´å¿«æ›´å¥½çš„æ”¶æ•›ã€‚
å½“Leaky ReLUå‡½æ•°ä»ç„¶æ— æ³•è§£å†³æ­»ç¥ç»å…ƒé—®é¢˜å¹¶ä¸”ç›¸å…³ä¿¡æ¯æ²¡æœ‰æˆåŠŸä¼ é€’åˆ°ä¸‹ä¸€å±‚æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨PReLUå‡½æ•°ã€‚&lt;/p>
&lt;h3 id="34softmax221softmaxå‡½æ•°">3.4ã€&lt;a href="#221softmax%E5%87%BD%E6%95%B0">Softmax&lt;/a>&lt;/h3>
&lt;p>softmaxå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§sigmoidå‡½æ•°ï¼Œä½†å®ƒåœ¨å¤„ç†åˆ†ç±»é—®é¢˜æ—¶å¾ˆæ–¹ä¾¿ã€‚sigmoidå‡½æ•°åªèƒ½å¤„ç†ä¸¤ä¸ªç±»ã€‚å½“æˆ‘ä»¬æƒ³è¦å¤„ç†å¤šä¸ªç±»æ—¶ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿåªå¯¹å•ç±»è¿›è¡Œâ€œæ˜¯â€æˆ–â€œä¸æ˜¯â€çš„åˆ†ç±»æ–¹å¼å°†ä¸ä¼šæœ‰ä»»ä½•å¸®åŠ©ã€‚
softmaxå‡½æ•°å°†å‹ç¼©æ¯ä¸ªç±»åœ¨0åˆ°1ä¹‹é—´ï¼Œå¹¶é™¤ä»¥è¾“å‡ºæ€»å’Œã€‚å®ƒå®é™…ä¸Šå¯ä»¥è¡¨ç¤ºæŸä¸ªç±»çš„è¾“å…¥æ¦‚ç‡ã€‚
æ¯”å¦‚ï¼Œæˆ‘ä»¬è¾“å…¥[1.2,0.9,0.75]ï¼Œå½“åº”ç”¨softmaxå‡½æ•°æ—¶ï¼Œå¾—åˆ°[0.42,0.31,0.27]ã€‚ç°åœ¨å¯ä»¥ç”¨è¿™äº›å€¼æ¥è¡¨ç¤ºæ¯ä¸ªç±»çš„æ¦‚ç‡ã€‚
softmaxå‡½æ•°æœ€å¥½åœ¨åˆ†ç±»å™¨çš„è¾“å‡ºå±‚ä½¿ç”¨ã€‚&lt;/p>
&lt;h2 id="32ç»“æœ">3.2ã€ç»“æœ&lt;/h2>
&lt;ul>
&lt;li>ç”¨äºåˆ†ç±»å™¨æ—¶ï¼ŒSigmoidå‡½æ•°åŠå…¶ç»„åˆé€šå¸¸æ•ˆæœæ›´å¥½ã€‚&lt;/li>
&lt;li>ç”±äºæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œæœ‰æ—¶è¦é¿å…ä½¿ç”¨sigmoidå’Œtanhå‡½æ•°ã€‚&lt;/li>
&lt;li>ReLUå‡½æ•°æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œç›®å‰åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨ã€‚&lt;/li>
&lt;li>å¦‚æœç¥ç»ç½‘ç»œä¸­å‡ºç°æ­»ç¥ç»å…ƒï¼Œé‚£ä¹ˆPReLUå‡½æ•°å°±æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚&lt;/li>
&lt;li>è¯·è®°ä½ï¼ŒReLUå‡½æ•°åªèƒ½åœ¨éšè—å±‚ä¸­ä½¿ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="33æœ€æ–°çš„æ¿€æ´»å‡½æ•°">3.3ã€æœ€æ–°çš„æ¿€æ´»å‡½æ•°&lt;/h2>
&lt;h3 id="switch-bsearching-for-activation-functionshttpsarxivorgabs171005941">Switch-B(&lt;a href="https://arxiv.org/abs/1710.05941">searching for activation functions&lt;/a>)&lt;/h3>
&lt;p>Swishæ˜¯Googleåœ¨2017å¹´10æœˆ16å·æå‡ºçš„ä¸€ç§æ–°å‹æ¿€æ´»å‡½æ•°,å…¶åŸå§‹å…¬å¼ä¸º:
$$
f(x)=x * Sigmod(x)
$$
å˜å½¢Swish-Bæ¿€æ´»å‡½æ•°çš„å…¬å¼åˆ™ä¸º
$$
f(x)=x * Sigmod(b * x)
$$
å…¶æ‹¥æœ‰ä¸é¥±å’Œ,å…‰æ»‘,éå•è°ƒæ€§çš„ç‰¹å¾,è€ŒGoogleåœ¨è®ºæ–‡ä¸­çš„å¤šé¡¹æµ‹è¯•è¡¨æ˜Swishä»¥åŠSwish-Bæ¿€æ´»å‡½æ•°çš„æ€§èƒ½å³ä½³,
åœ¨ä¸åŒçš„æ•°æ®é›†ä¸Šéƒ½è¡¨ç°å‡ºäº†è¦ä¼˜äºå½“å‰æœ€ä½³æ¿€æ´»å‡½æ•°çš„æ€§èƒ½.&lt;/p></description></item><item><title>åŸºæœ¬æ•°æ®ç±»å‹</title><link>https://blog.jtyoui.com/post/pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</link><pubDate>Tue, 27 Dec 2022 15:56:00 +0800</pubDate><guid>https://blog.jtyoui.com/post/pytorch/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</guid><description>&lt;h1 id="1å¼ é‡tensor">1ã€å¼ é‡ï¼ˆTensorï¼‰&lt;/h1>
&lt;p>åœ¨Pytorchä¸­å¤„ç†çš„æ•°æ®éƒ½æŒ‰å¼ é‡æ¥è¡¨ç¤ºï¼Œå¼ é‡æ˜¯ä¸€ä¸ªçŸ©é˜µç»´åº¦çš„å•ä½ï¼Œè¡¨ç¤ºå¤šç»´çŸ©é˜µã€‚&lt;/p>
&lt;p>Tensoræœ‰5ç§åŸºæœ¬ç±»å‹&lt;/p>
&lt;ol>
&lt;li>16ä½æ•´å‹ torch.ShortTensor&lt;/li>
&lt;li>32ä½æ•´å‹ torch.IntTensor&lt;/li>
&lt;li>32ä½æµ®ç‚¹å‹ torch.FloatTensor (é»˜è®¤ç±»å‹)&lt;/li>
&lt;li>64ä½æ•´å‹ torch.LongTensor&lt;/li>
&lt;li>64ä½æµ®ç‚¹å‹ torch.DoubleTensor&lt;/li>
&lt;/ol>
&lt;h2 id="11å®šä¹‰å¼ é‡">1.1ã€å®šä¹‰å¼ é‡&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3*2å…¨ä¸º0çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zeros&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3*2éšæœºå€¼çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3*2å…¨ä¸º1çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæƒ³ä½¿ç”¨åœ¨GPUä¸Šå®šä¹‰ï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨åé¢åŠ ä¸Š &lt;code>.cuda()&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3*2å…¨ä¸º0çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zeros&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3*2éšæœºå€¼çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3*2å…¨ä¸º1çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”Ÿæˆç›¸åŒçš„æ•°å€¼çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">full&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">fill_value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">7.&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">tensor([[7., 7., 7.],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> [7., 7., 7.]])
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚ä½•åˆ¤æ–­ä½ çš„ç¯å¢ƒæ˜¯å¦æ”¯æŒGPUï¼Œä½¿ç”¨è¿™ä¸ªå‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿”å› Trueè¡¨ç¤ºå¯ä»¥ä½¿ç”¨GPU&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_available&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€æ³¨æ„ã€‘å¼ é‡å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œ&lt;code>æ ‡é‡&lt;/code>æ˜¯0ä½å¼ é‡ï¼Œ&lt;code>å‘é‡&lt;/code>æ˜¯1ä½çš„å¼ é‡ï¼Œ&lt;code>çŸ©é˜µ&lt;/code>æ˜¯2ä½çš„å¼ é‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ ‡é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">13.1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dim&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å‘é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dim&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># 1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dim&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># 2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­&lt;code>.dim()&lt;/code>æ±‚ç»´åº¦ã€‚&lt;/p>
&lt;p>Pytorchçš„æ•°æ®ç±»å‹æœ‰å¾ˆå¤šå’Œnumpyç‰¹åˆ«ç›¸ä¼¼ï¼Œå¦‚æœè¦æŸ¥çœ‹shapeï¼Œå’Œnpä¸€æ ·ã€‚&lt;/p>
&lt;h2 id="12ç»´åº¦å«ä¹‰">1.2ã€ç»´åº¦å«ä¹‰&lt;/h2>
&lt;h3 id="121ä¸‰ç»´åº¦">1.2.1ã€ä¸‰ç»´åº¦&lt;/h3>
&lt;p>ä¸€èˆ¬åœ¨RNNä¸­[b,word,vector]&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€ä½è¡¨ç¤ºbitchæ•°é‡&lt;/li>
&lt;li>ç¬¬äºŒä½è¡¨ç¤ºå¥å­æ•°é‡&lt;/li>
&lt;li>ç¬¬ä¸‰è¡¨ç¤ºæ¯ä¸€ä¸ªå¥å­å¯ä»¥ç”¨ä¸€ä¸ªå‘é‡æ¥è¡¨ç¤º&lt;/li>
&lt;/ul>
&lt;h3 id="122å››ç»´åº¦">1.2.2ã€å››ç»´åº¦&lt;/h3>
&lt;p>ä¸€èˆ¬åœ¨CNNä¸­[b,c,h,w]&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€ä½è¡¨ç¤ºbitch&lt;/li>
&lt;li>ç¬¬äºŒä½è¡¨ç¤ºå›¾ç‰‡çš„é€šé“&lt;/li>
&lt;li>ç¬¬ä¸‰ä½è¡¨ç¤ºå›¾ç‰‡é•¿åº¦&lt;/li>
&lt;li>ç¬¬å››ä½è¡¨ç¤ºå›¾ç‰‡å®½åº¦&lt;/li>
&lt;/ul>
&lt;p>å¦‚ä½•æ±‚å¼ é‡çš„ä¸ªæ•°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”Ÿæˆä¸‰ç»´å…¨æ˜¯1çš„çŸ©é˜µ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ±‚ä¸€å…±æœ‰å¤šå°‘ä½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">numel&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># 2*3*4 = 24&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="13æœªåˆå§‹åŒ–">1.3ã€æœªåˆå§‹åŒ–&lt;/h2>
&lt;p>ä¸è¦ç›´æ¥ä½¿ç”¨Pytorchæ¥åˆ›å»ºæ•°æ®ï¼Œä¸ç„¶ä¼šå‡ºç°éå¸¸å¤§çš„æ•°å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯æ— ç©·å¤§å’Œæ— ç©·å°çš„æƒ…å†µ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ‡è®°ä¸èƒ½è¿™æ ·ç”Ÿæˆæ•°æ®ï¼Œä¸ç„¶ä¼šå‡ºç°éå¸¸å¤§çš„æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">IntTensor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">tensor([[-1339644960, 582, -1339644976],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> [ 582, -1339300112, 582]], dtype=torch.int32)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="14æ›´æ”¹é»˜è®¤ç±»å‹">1.4ã€æ›´æ”¹é»˜è®¤ç±»å‹&lt;/h2>
&lt;p>å¦‚æœå£°æ˜çš„æ˜¯æµ®ç‚¹æ•°ï¼Œé»˜è®¤æ˜¯ torch.FloatTensorï¼Œå¦‚æœæ˜¯æ•´æ•°ï¼Œé»˜è®¤æ˜¯ torch.LongTensor&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¦‚æœæ˜¯æµ®ç‚¹æ•°ï¼Œé»˜è®¤ç±»å‹æ˜¯ï¼š torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">2.0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›´æ”¹é»˜è®¤ç±»å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_default_tensor_type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DoubleTensor&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">2.0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># torch.DoubleTensor&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="15éšæœºæ•°">1.5ã€éšæœºæ•°&lt;/h2>
&lt;p>éšæœºç”Ÿæˆçš„æ•°ä½¿ç”¨çš„æƒ…å†µéå¸¸å¤šï¼Œç”¨çš„æ¯”è¾ƒå¤šçš„æ–¹æ³•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">tensor([[8, 7, 2],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> [6, 8, 5]])
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éšæœºç”Ÿæˆ[0,1)ä¹‹é—´çš„éšæœºæ•°ï¼Œé»˜è®¤ç±»å‹æ˜¯ torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">tensor([[0.5692, 0.5389, 0.8351],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> [0.2079, 0.7725, 0.8432]])
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éšæœºç”Ÿæˆ æ­£æ€åˆ†å¸ƒï¼ˆ0~1)ä¹‹é—´çš„éšæœºæ•°ï¼Œé»˜è®¤ç±»å‹æ˜¯ torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">tensor([[ 0.3335, 0.7398, 1.3681],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> [-0.2129, 1.1837, 0.2828]])
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éšæœºç”Ÿæˆ æ­£æ€åˆ†å¸ƒï¼ˆu~std)ä¹‹é—´çš„éšæœºæ•°ï¼Œé»˜è®¤ç±»å‹æ˜¯ torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ•°å­¦è¡¨è¾¾å¼ï¼šN(3,5)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">normal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">mean&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">type&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1"># torch.FloatTensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">tensor([[ 1.3164, -5.8054, 1.5450],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> [ 4.7889, 13.1251, 2.0415]])
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="16ç”Ÿæˆæ•°åˆ—">1.6ã€ç”Ÿæˆæ•°åˆ—&lt;/h2>
&lt;p>torché‡Œé¢èƒ½ç”Ÿæˆä¸¤ç§æ•°åˆ—ï¼Œä¸€ç§æ˜¯ç­‰å·®æ•°åˆ—ï¼Œå¦ä¸€ç§æ˜¯ç­‰åˆ†æ•°åˆ—&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”Ÿæˆç­‰å·®æ•°åˆ—ï¼Œç¬¬ä¸€ä½æ˜¯èµ·å§‹ä½ï¼Œç»“æŸä½ï¼Œç­‰å·®å€¼ï¼Œä¸å†™é»˜è®¤æ˜¯1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”Ÿæˆç­‰åˆ†æ•°åˆ—ï¼Œç¬¬ä¸€ä½æ˜¯èµ·å§‹ä½ï¼Œç»“æŸä½ï¼Œç­‰åˆ†å€¼ï¼ˆå¿…å¡«ï¼‰ï¼Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å‡åŒ€çš„åˆ†æˆå¤šå°‘ä»½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">linspace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># tensor([ 0.0000, 2.5000, 5.0000, 7.5000, 10.0000])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€æ³¨æ„ã€‘ï¼šTensorå’Œtensorçš„åŒºåˆ«&lt;/p>
&lt;p>å¤§å†™çš„Tensorå’Œå°å†™çš„tensorå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå½“åªä¼ å…¥ä¸€ä½æ•°çš„æ—¶å€™ï¼Œå¤§å†™çš„è¡¨ç¤ºSizeï¼Œè€Œå°å†™çš„è¡¨ç¤ºæ ‡é‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤§å†™è¡¨ç¤ºSizeä¸º1ï¼Œå€¼éšæœºçš„æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Tensor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># tensor([0.])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å°å†™è¡¨ç¤ºsizeä¸º1ï¼Œå€¼æ˜¯1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># tensor(1)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤§å†™è¡¨ç¤ºSizeä¸º1*2ï¼Œå€¼éšæœºçš„æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Tensor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># tensor([[1.4013e-45, 0.0000e+00]])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é”™è¯¯è¯­æ³•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># print(torch.tensor(1, 2)) # é”™è¯¯è¯­æ³•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å°å†™è¡¨ç¤ºSizeä¸º1*2ï¼Œå€¼æ˜¯1,2ï¼Œç±»å‹æ˜¯æ•´å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]))&lt;/span> &lt;span class="c1"># tensor([1, 2])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤§å†™è¡¨ç¤ºSizeä¸º1*2ï¼Œå€¼æ˜¯1,2ï¼Œå€¼ç­‰ä»·ä¸Šé¢çš„å°å†™ï¼Œä¸è¿‡ç±»å‹æ˜¯é»˜è®¤ç±»å‹ Float&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]))&lt;/span> &lt;span class="c1"># tensor([1, 2])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">ä¸‹é¢è¿™ç§æ˜¯ç­‰ä»·å†™æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">print(torch.Tensor([1, 2]))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">print(torch.tensor([1., 2.]))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="2å˜é‡variable">2ã€å˜é‡ï¼ˆVariableï¼‰&lt;/h1>
&lt;p>Pytorchçš„å˜é‡ä¹Ÿæ˜¯å’Œå¼ é‡ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ¦‚å¿µï¼Œè¿™ä¸ªå’Œä¼ ç»Ÿç¼–ç¨‹è¯­è¨€çš„å˜é‡ä¸ä¸€æ ·ã€‚è¿™é‡Œçš„å˜é‡æ˜¯åŠ å…¥äº†è®¡ç®—å›¾ï¼Œå¯ä»¥è¿›è¡Œå‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ã€è‡ªåŠ¨æ±‚å¯¼ã€‚
åœ¨å˜é‡ä¸­æœ‰ä¸‰ä¸ªæ¯”è¾ƒé‡è¦çš„å±æ€§ï¼ˆdataã€gradã€grad_fnï¼‰ï¼Œé€šè¿‡dataè·å–åˆ°å˜é‡é‡Œé¢çš„å€¼ï¼Œè¿™ä¸ªå€¼å…¶å®å°±æ˜¯å¼ é‡ã€‚grad_fnè¡¨ç¤ºçš„æ˜¯è¿™ä¸ªå˜é‡çš„æ“ä½œï¼Œæ¯”å¦‚ï¼šæ˜¯é€šè¿‡ä»€ä¹ˆå››åˆ™è¿ç®—
å¾—æ¥çš„ï¼Ÿï¼ˆæ¯”å¦‚ï¼šåŠ å‡ä¹˜é™¤ï¼‰ï¼Œæœ€ågradæ˜¯è¿™ä¸ªå˜é‡çš„åå‘æ¢¯åº¦ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">autograd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Variable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">]),&lt;/span> &lt;span class="n">requires_grad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">autograd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Variable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">2.&lt;/span>&lt;span class="p">]),&lt;/span> &lt;span class="n">requires_grad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">autograd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Variable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">3.&lt;/span>&lt;span class="p">]),&lt;/span> &lt;span class="n">requires_grad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">w&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grad&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># tensor([2.])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grad&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># tensor([1.])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grad&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># tensor([1.])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Goä»£ç†é™æ€é¡µé¢</title><link>https://blog.jtyoui.com/post/golang/go%E4%BB%A3%E7%90%86%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2/</link><pubDate>Sat, 03 Sep 2022 15:13:00 +0800</pubDate><guid>https://blog.jtyoui.com/post/golang/go%E4%BB%A3%E7%90%86%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2/</guid><description>&lt;p>åŸºäºGoè¯­è¨€å®ç°çš„é™æ€ç½‘é¡µåŠ è½½ï¼Œç”šè‡³å¯ä»¥è‡ªåŠ¨æ‰“åŒ…åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­å»,ä½¿ç”¨ç‰¹åˆ«ç®€å•ï¼Œè”åˆGinå®ç°é«˜å¹¶å‘æ€§èƒ½&lt;/p>
&lt;h2 id="1-å®‰è£…">1. å®‰è£…&lt;/h2>
&lt;pre>&lt;code> go get github.com/gounits/gohtml
&lt;/code>&lt;/pre>
&lt;h2 id="2-ä½¿ç”¨">2. ä½¿ç”¨&lt;/h2>
&lt;p>&lt;img src="https://blog.jtyoui.com/img/Golang/Go%E4%BB%A3%E7%90%86%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2-%E7%9B%AE%E5%BD%95.png" alt="img.png">&lt;/p>
&lt;p>fsæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾webé™æ€æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;embed&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;github.com/gin-gonic/gin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;github.com/gounits/gohtml&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//go:embed fs
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">efs&lt;/span> &lt;span class="nx">embed&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">FS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">gin&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Default&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">gohtml&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewFs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">efs&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//r.Use(gohtml.New(&amp;#34;fs&amp;#34;))
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;:8080&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://blog.jtyoui.com/img/Golang/Go%E4%BB%A3%E7%90%86%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2-HTML.png" alt="img_2.png">&lt;/p>
&lt;h2 id="3-æ‰“å¼€æµè§ˆå™¨">3. æ‰“å¼€æµè§ˆå™¨&lt;/h2>
&lt;pre>&lt;code>click http://localhost:8080/ å¦‚æœè®¿é—®åˆ°ä¸‹é¢ï¼Œè¯´æ˜æ‰§è¡ŒæˆåŠŸï¼
&lt;/code>&lt;/pre>
&lt;p>&lt;img src="https://blog.jtyoui.com/img/Golang/Go%E4%BB%A3%E7%90%86%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2-%E6%89%93%E5%BC%80%E6%88%90%E5%8A%9F.png" alt="img_1.png">&lt;/p></description></item></channel></rss>